const questions = [

  {

    question: "Who is the protagonist of Othello?",

    options: ["Iago", "Othello", "Cassio", "Roderigo"],

    answer: "Othello"

  },

  {

    question: "What is Othello's military rank?",

    options: ["General", "Lieutenant", "Captain", "Senator"],

    answer: "General"

  },

  {

    question: "Who is Othello's wife?",

    options: ["Emilia", "Bianca", "Desdemona", "Brabantio"],

    answer: "Desdemona"

  },

  {

    question: "What is the primary setting of Othello?",

    options: ["Venice and Cyprus", "Rome and Athens", "London and Verona", "Denmark and Norway"],

    answer: "Venice and Cyprus"

  },

  {

    question: "Who is the main antagonist manipulating events in Othello?",

    options: ["Cassio", "Iago", "Roderigo", "Brabantio"],

    answer: "Iago"

  },

  {

    question: "What motivates Iago's actions against Othello?",

    options: ["Love for Desdemona", "Jealousy and ambition", "Loyalty to Venice", "Desire for peace"],

    answer: "Jealousy and ambition"

  },

  {

    question: "What object does Iago use to fuel Othello's jealousy?",

    options: ["A ring", "A handkerchief", "A letter", "A sword"],

    answer: "A handkerchief"

  },

  {

    question: "Who is Desdemona's father?",

    options: ["Montano", "Brabantio", "Gratiano", "Lodovico"],

    answer: "Brabantio"

  },

  {

    question: "What is Cassio's position under Othello?",

    options: ["Lieutenant", "General", "Senator", "Servant"],

    answer: "Lieutenant"

  },

  {

    question: "Why is Cassio demoted?",

    options: ["Stealing", "Drunken brawl", "Disobeying orders", "Lying to Othello"],

    answer: "Drunken brawl"

  },

  {

    question: "Who helps Iago in his schemes?",

    options: ["Emilia", "Desdemona", "Bianca", "Montano"],

    answer: "Emilia"

  },

  {

    question: "What does Othello mistakenly believe about Cassio and Desdemona?",

    options: ["They are siblings", "They are having an affair", "They are cousins", "They are enemies"],

    answer: "They are having an affair"

  },

  {

    question: "What is the name of the war Othello is sent to fight?",

    options: ["Trojan War", "Turkish War", "Venetian War", "Cyprus War"],

    answer: "Turkish War"

  },

  {

    question: "Who kills Roderigo?",

    options: ["Othello", "Iago", "Cassio", "Emilia"],

    answer: "Iago"

  },

  {

    question: "How does Desdemona die?",

    options: ["Poisoned", "Stabbed", "Smothered", "Drowned"],

    answer: "Smothered"

  },

  {

    question: "Who reveals Iago's treachery?",

    options: ["Desdemona", "Emilia", "Cassio", "Roderigo"],

    answer: "Emilia"

  },

  {

    question: "What is Othello's ethnicity?",

    options: ["Venetian", "Moor", "Turk", "Greek"],

    answer: "Moor"

  },

  {

    question: "What does the handkerchief symbolize?",

    options: ["Wealth", "Love and fidelity", "Power", "Deception"],

    answer: "Love and fidelity"

  },

  {

    question: "Who is Emilia married to?",

    options: ["Othello", "Cassio", "Iago", "Roderigo"],

    answer: "Iago"

  },

  {

    question: "What does Iago claim is his reason for hating Othello?",

    options: ["Othello insulted him", "Othello promoted Cassio over him", "Othello stole his wife", "Othello is a Moor"],

    answer: "Othello promoted Cassio over him"

  },

  {

    question: "Where is the handkerchief first given to Desdemona?",

    options: ["By Iago", "By Othello", "By Emilia", "By Cassio"],

    answer: "By Othello"

  },

  {

    question: "What is Roderigo's main motivation?",

    options: ["Revenge", "Love for Desdemona", "Power", "Wealth"],

    answer: "Love for Desdemona"

  },

  {

    question: "Who is the governor of Cyprus before Othello arrives?",

    options: ["Montano", "Brabantio", "Lodovico", "Gratiano"],

    answer: "Montano"

  },

  {

    question: "What does Othello do after realizing his mistake?",

    options: ["Flees Cyprus", "Kills himself", "Arrests Iago", "Forgives Desdemona"],

    answer: "Kills himself"

  },

  {

    question: "What is the tragic flaw of Othello?",

    options: ["Greed", "Jealousy", "Pride", "Cowardice"],

    answer: "Jealousy"

  },

  {

    question: "Who is tasked with punishing Iago at the end?",

    options: ["Othello", "Cassio", "Lodovico", "Montano"],

    answer: "Cassio"

  },

  {

    question: "What does Iago refuse to do at the end of the play?",

    options: ["Confess", "Fight", "Flee", "Apologize"],

    answer: "Confess"

  },

  {

    question: "What is the name of the courtesan in the play?",

    options: ["Emilia", "Desdemona", "Bianca", "Cassio"],

    answer: "Bianca"

  },

  {

    question: "What does Brabantio accuse Othello of using to win Desdemona?",

    options: ["Money", "Magic", "Force", "Deception"],

    answer: "Magic"

  },

  {

    question: "What is the final setting of the play?",

    options: ["Venice", "Cyprus", "Rome", "Athens"],

    answer: "Cyprus"

  },

  {

    question: "Who delivers the news of the Turkish fleet's destruction?",

    options: ["Cassio", "Montano", "Iago", "A messenger"],

    answer: "A messenger"

  },

  {

    question: "What does Othello call Desdemona when he doubts her fidelity?",

    options: ["Traitor", "Witch", "Strumpet", "Liar"],

    answer: "Strumpet"

  },

  {

    question: "Who finds the handkerchief after Desdemona loses it?",

    options: ["Iago", "Emilia", "Cassio", "Bianca"],

    answer: "Emilia"

  },

  {

    question: "What does Iago suggest Cassio do to regain Othello's favor?",

    options: ["Fight a duel", "Speak to Desdemona", "Write a letter", "Leave Cyprus"],

    answer: "Speak to Desdemona"

  },

  {

    question: "What is the name of the Venetian senator who dislikes Othello?",

    options: ["Gratiano", "Lodovico", "Brabantio", "Montano"],

    answer: "Brabantio"

  },

  {

    question: "How does Emilia die?",

    options: ["Smothered", "Stabbed", "Poisoned", "Drowned"],

    answer: "Stabbed"

  },

  {

    question: "What is Othello's final speech about?",

    options: ["His love for Desdemona", "His regret and legacy", "His hatred for Iago", "His military victories"],

    answer: "His regret and legacy"

  },

  {

    question: "What does Iago plant in Cassio's lodging?",

    options: ["A letter", "The handkerchief", "A dagger", "Gold"],

    answer: "The handkerchief"

  },

  {

    question: "What is the play's central theme?",

    options: ["Love", "Jealousy", "Power", "Betrayal"],

    answer: "Jealousy"

  },

  {

    question: "Who survives the play's tragic ending?",

    options: ["Othello", "Desdemona", "Cassio", "Emilia"],

    answer: "Cassio"

  }

];

let currentQuestion = 0;

let score = 0;

let quizTaken = localStorage.getItem('othelloQuizTaken') === 'true';

function startQuiz() {

  if (quizTaken) {

    document.getElementById('quiz').style.display = 'none';

    document.getElementById('result').style.display = 'block';

    document.getElementById('attempt-message').innerText = 'You have already taken this quiz. Only one attempt is allowed.';

    return;

  }

  showQuestion();

}

function showQuestion() {

  const questionElement = document.getElementById('question');

  const optionsElement = document.getElementById('options');

  const feedbackElement = document.getElementById('feedback');

  const nextBtn = document.getElementById('next-btn');

  questionElement.innerText = questions[currentQuestion].question;

  optionsElement.innerHTML = '';

  feedbackElement.innerHTML = '';

  nextBtn.disabled = true;

  questions[currentQuestion].options.forEach(option => {

    const button = document.createElement('div');

    button.innerText = option;

    button.classList.add('option');

    button.onclick = () => selectOption(option, button);

    optionsElement.appendChild(button);

  });

}

function selectOption(selected, button) {

  const feedbackElement = document.getElementById('feedback');

  const nextBtn = document.getElementById('next-btn');

  const correctAnswer = questions[currentQuestion].answer;

  if (selected === correctAnswer) {

    score++;

    feedbackElement.innerHTML = 'Correct! 👍';

    button.classList.add('correct');

  } else {

    feedbackElement.innerHTML = `Incorrect! 👎 The correct answer is ${correctAnswer}.`;

    button.classList.add('incorrect');

  }

  document.querySelectorAll('.option').forEach(btn => {

    btn.onclick = null; // Disable further clicks

    if (btn.innerText === correctAnswer) {

      btn.classList.add('correct');

    }

  });

  nextBtn.disabled = false;

}

function nextQuestion() {

  currentQuestion++;

  if (currentQuestion < questions.length) {

    showQuestion();

  } else {

    showResult();

  }

}

function showResult() {

  document.getElementById('quiz').style.display = 'none';

  document.getElementById('result').style.display = 'block';

  document.getElementById('score').innerText = `Your score: ${score} out of ${questions.length}`;

  localStorage.setItem('othelloQuizTaken', 'true');

}

// Start the quiz when the page loads

startQuiz();